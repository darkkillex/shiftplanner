<!doctype html>
{% load static %}
<html lang="it">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <title>{% block title %}Shift Planner{% endblock %}</title>

    <!-- Materialize + Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/materialize-css@1.0.0/dist/css/materialize.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/materialize-css@1.0.0/dist/js/materialize.min.js"></script>

    {% block extra_head %}
    <link rel="stylesheet" href="{% static 'core/layout.css' %}">
    {% endblock %}

    {% block extra_css %}{% endblock %}

</head>


<body class="grey lighten-4">
<!-- NAVBAR -->
<nav class="blue">
    <div class="nav-wrapper container" style="display:flex; align-items:center; justify-content:space-between;">

        <!-- Sinistra: Brand + Divider + Link amministrazione/home -->
        <div class="nav-left" style="display:flex; align-items:center; gap:12px;">
            <a href="/" class="brand-logo" style="position:static; transform:none;">Shift Planner</a>

            <!-- Divisore verticale -->
            <span class="nav-divider"
                  style="display:inline-block; width:1px; height:28px; background:rgba(255,255,255,.5); margin:0 8px;"></span>

            <!-- Link “di struttura” -->
            <ul style="display:flex; gap:8px; margin:0;">
                {% if request.user.is_superuser%}
                  <li>
                    <a href="{% url 'admin:index' %}">
                      <i class="material-icons left">settings</i>Area Amministratore
                    </a>
                  </li>
                {% endif %}
                <li>
                    <a href="/" style="padding:0 10px;">
                        <i class="material-icons left">home</i>Home Page
                    </a>
                </li>
                <li>
                    <a href="{% url 'functions' %}">Funzioni
                    </a>
                </li>
            </ul>
            <!-- Divisore verticale -->
            <span class="nav-divider"
                  style="display:inline-block; width:1px; height:28px; background:rgba(255,255,255,.5); margin:0 8px;"></span>
        </div>

        <!-- Destra: utente -->
        <ul id="nav-mobile" class="right" style="margin:0;">
            {% if request.user.is_authenticated %}
            <li>
                <a href="{% url 'profile' %}">
                    <i class="material-icons left">account_circle</i>
                    {{ request.user.get_full_name|default:request.user.username }}
                </a>
            </li>
            <li>
                <a href="/logout/">
                    <i class="material-icons left">exit_to_app</i>Logout
                </a>
            </li>
            {% else %}
            <li><a href="/login/"><i class="material-icons left">login</i>Login</a></li>
            {% endif %}
        </ul>
    </div>
</nav>


<!-- CONTENUTO -->
<main class="container-fluid" style="margin:12px 16px;">
    {% block content %}{% endblock %}
</main>

{% block extra_body %}{% endblock %}

<footer class="center grey-text text-darken-2" style="margin-top:40px;font-size:19px">
  <small>
    Versione <a href="{% url 'changelog' %}">{{ APP_VERSION }}</a>
  </small>
</footer>

{% block extra_js %}{% endblock %}
</body>
</html>
